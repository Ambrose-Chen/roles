---
# vars file for hadoop

_hadoop_version: 3
_hadoop_repo_url: 'http://192.168.110.100/software/hadoop/hadoop-3.2.1.tar.gz'
#_hadoop_repo_url: 'https://mirrors.aliyun.com/apache/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz'
_hadoop_repo_name: 'hadoop-3.2.1.tar.gz'
_hadoop_dest: '/opt'
_hadoop_dirname: 'hadoop-3.2.1'
_hadoop_conf:
  - slaves
  - hadoop-env.sh
  - core-site.xml
  - hdfs-site.xml
  - mapred-site.xml
  - yarn-site.xml

_hadoop_hadoop_env:
  HDFS_NAMENODE_USER: root
  HDFS_DATANODE_USER: root
  HDFS_SECONDARYNAMENODE_USER: root
  YARN_RESOURCEMANAGER_USER: root
  YARN_NODEMANAGER_USER: root

_hadoop_core_site:
  - name: 'fs.defaultFS'
    value: 'hdfs://slave1:9000'
  - name: 'hadoop.tmp.dir'
    value: '/usr/hadoop3.0/tmp'

_hadoop_hdfs_site:
  - name: 'dfs.replication'
    value: '3'
  - name: 'dfs.permissions.enabled'
    value: 'false'
  - name: 'dfs.blocksize'
    value: '134217728'

_hadoop_mapred_site:
  - name: 'mapreduce.framework.name'
    value: 'yarn'
  - name: 'mapreduce.admin.user.env'
    value: 'HADOOP_MAPRED_HOME=$HADOOP_HOME'
  - name: 'yarn.app.mapreduce.am.env'
    value: 'HADOOP_MAPRED_HOME=$HADOOP_HOME'

_hadoop_yarn_site:
  - name: 'yarn.resourcemanager.hostname'
    value: 'slave1'
  - name: 'yarn.nodemanager.aux-services'
    value: 'mapreduce_shuffle'
  - name: 'yarn.nodemanager.env-whitelist'
    value: 'JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ'
  - name: 'yarn.nodemanager.vmem-check-enabled'
    value: 'false'
